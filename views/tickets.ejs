<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/css/style.css">
    <title>zendesk | tickets</title>
</head>

<body>
    <header>
        <a href="/">
            <h1>Zendesk Coding Challenge</h1>
        </a>
    </header>
    <main>
        <div class="container">
            <!-- Display Tickets -->
            <h2>Tickets</h2>
            <span class="total-tickets">Showing Tickets <%= (previousPage * perPage) + 1 %> to <%= (currentPage * perPage) - (perPage - tickets.length) %>.  Total Tickets: <%=count%></span>
            <ul class="tickets-list">
                <% tickets.forEach((ticket, index) => { %>
                    <li class="tickets-item">
                        <%=ticket.subject%>
                            <article class="ticket-details">
                                <div>
                                    <b>Status: </b>
                                    <p>
                                        <%= ticket.status%>
                                    </p>
                                    <b>Description: </b>
                                    <p>
                                        <%= ticket.description%>
                                    </p>
                                </div>
                            </article>
                    </li>
                    <% }) %>
            </ul>
        </div>
        <footer class="page-buttons">
            <!-- Previous Page Button -->
            <% if(previousPage >= 1){ %>
                <a href=< %=` /tickets?page=${previousPage}` %>>previous</a>
                <% } %>
                    <!-- Next Page Button -->
                    <% if(nextPage > 1){ %>
                        <a href=< %=` /tickets?page=${nextPage}` %>>next</a>
                        <% } %>
        </footer>
    </main>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/ticket.js"></script>

</html>